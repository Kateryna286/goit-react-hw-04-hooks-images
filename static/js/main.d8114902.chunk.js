(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{27:function(e,t,c){},68:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(19),o=c.n(r),i=(c(27),c(10)),s=c(4),u=c(9),l=c.n(u),j=c(20),b=c(21),d=c.n(b),m=c(22),O=c.n(m),h=(c(68),c(1));function f(e){var t=e.onSubmit,c=Object(n.useState)(""),a=Object(s.a)(c,2),r=a[0],o=a[1],i=function(){o("")};return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("header",{className:"Searchbar",children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),i()):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e")},className:"SearchForm",children:[Object(h.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(h.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(h.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"keyWord",value:r,onChange:function(e){o(e.target.value)}})]})})})}c(70),c(71);function p(e){var t=e.bigImgSrc,c=e.src,n=e.alt;return Object(h.jsx)("li",{className:"ImageGalleryItem",children:Object(h.jsx)("img",{src:c,alt:n,"data-src":t,className:"ImageGalleryItem-image"})})}function g(e){var t=e.images,c=e.onClick;return Object(h.jsx)(h.Fragment,{children:t&&Object(h.jsx)("ul",{className:"ImageGallery",onClick:c,children:t.map((function(e){var t=e.webformatURL,c=e.user,n=e.id,a=e.largeImageURL;return Object(h.jsx)(p,{src:t,alt:c,bigImgSrc:a},n)}))})})}c(72);var v=function(e){var t=e.onClick;return Object(h.jsx)("button",{onClick:t,type:"button",className:"Button",children:"Load more..."})};c(73);function x(e){var t=e.src,c=e.alt,a=e.onClose;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&a()};return Object(h.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&a()},children:Object(h.jsx)("div",{className:"Modal",children:Object(h.jsx)("img",{src:t,alt:c})})})}c(74);var S=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c,n,a,r,o,i,s,u=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},c=t.querry,n=void 0===c?"":c,a=t.page,r=void 0===a?1:a,o=t.key,i=void 0===o?"22564694-3177f5daba1f2572eee652a36":o,e.next=3,d.a.get("https://pixabay.com/api/?q=".concat(n,"&page=").concat(r,"&key=").concat(i,"&image_type=photo&orientation=horizontal&per_page=12"));case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function y(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),o=Object(s.a)(r,2),u=o[0],l=o[1],j=Object(n.useState)(1),b=Object(s.a)(j,2),d=b[0],m=b[1],p=Object(n.useState)(!1),y=Object(s.a)(p,2),k=y[0],w=y[1],N=Object(n.useState)(!1),C=Object(s.a)(N,2),F=C[0],I=C[1],E=Object(n.useState)(!1),L=Object(s.a)(E,2),q=L[0],B=L[1],G=Object(n.useState)("idle"),J=Object(s.a)(G,2),M=J[0],R=J[1],T=Object(n.useState)(null),U=Object(s.a)(T,2),_=U[0],z=U[1],A=Object(n.useState)(""),D=Object(s.a)(A,2),H=D[0],W=D[1];Object(n.useEffect)((function(){""!==c&&(B(!0),S({querry:c,page:d}).then((function(e){0===e.total?(R("rejected"),z("\u041a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u043f\u043e \u043f\u043e\u0438\u0441\u043a\u0443 '".concat(c,"' \u043d\u0435 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u043e")),B(!1)):(l((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.hits))})),B(!1),R("resolved"),e.total-12*d>0?I(!0):I(!1))})).then(d>1&&K))}),[c,d]);var K=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},P=function(){w(!k)};return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(f,{onSubmit:function(e){a(e),m(1),l([])}}),"idle"===M&&Object(h.jsx)("div",{children:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u043f\u043e\u0438\u0441\u043a"}),"rejected"===M&&Object(h.jsx)("div",{children:_}),Object(h.jsx)(g,{querry:c,onClick:function(e){W(e.target.dataset.src),P()},images:u}),q&&Object(h.jsx)(O.a,{type:"Oval",color:"#00BFFF",height:80,width:80}),F&&Object(h.jsx)(v,{onClick:function(){m((function(e){return e+1}))}}),k&&Object(h.jsx)(x,{onClose:P,src:H})]})}o.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(y,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.d8114902.chunk.js.map